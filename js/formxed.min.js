var SWFPut_putswf_video_xed=function(){if(this.map={},this.last_from=0,this.last_match="",void 0===this.fpo){SWFPut_putswf_video_xed.prototype.fpo={};var t=this.fpo;t.cmt="<!-- do not strip me -->",t.ent=t.cmt,t.enx=t.ent;var e=document.createElement("div");e.innerHTML=t.ent,t.enc=e.textContent||e.innerText||t.ent,t.rxs="(("+t.cmt+")|("+t.enx+")|("+t.enc+"))",t.rxx=".*"+t.rxs+".*",t.is=function(e,i){return e.match(RegExp(i?t.rxs:t.rxx))}}if(void 0===this.ini_timer){SWFPut_putswf_video_xed.prototype.ini_timer="working";var i=this,s=function(){return"undefined"==typeof tinymce?void(i.ini_timer=setTimeout(s,1e3)):(i.ini_timer="done",i.tmce_ma=parseInt(tinymce.majorVersion),i.tmce_mn=parseFloat(tinymce.minorVersion),void(i.tmce_ma<4&&i.tmce_mn<4?(i.put_at_cursor=i.put_at_cursor_OLD,i.set_edval=i.set_edval_OLD,i.get_edval=i.get_edval_OLD):i.get_mce_dat()))};s()}};SWFPut_putswf_video_xed.prototype={defs:{url:"",cssurl:"",iimage:"",width:"240",height:"180",mobiwidth:"0",audio:"false",aspectautoadj:"false",displayaspect:"0",pixelaspect:"0",volume:"50",play:"false",hidebar:"true",disablebar:"false",iimgbg:"true",barheight:"36",quality:"high",allowfull:"true",allowxdom:"false",loop:"false",mtype:"application/x-shockwave-flash",playpath:"",altvideo:"",classid:"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",codebase:"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,115,0",align:"center",preload:"image"},ltrim:function(t,e){for(var i=void 0===e?" ":e;t.charAt(0)===i;)t=t.substring(1);return t},rtrim:function(t,e){for(var i=void 0===e?" ":e;t.charAt(t.length-1)===i;)t=t.slice(0,t.length-1);return t},trim:function(t,e){var i=void 0===e?" ":e;return this.rtrim(this.ltrim(t,i),i)},sanitize:function(t){var e,i,s,a;t!==!1&&(t=!0);for(i in this.map)if(void 0!==(s=this.defs[i])&&""!=(e=this.trim(this.map[i])))switch(i){case"width":case"height":case"mobiwidth":case"volume":case"barheight":if("barheight"===i&&"default"===e)continue;t&&/^\+?[0-9]+/.test(e)&&(e=""+Math.abs(parseInt(e))),/^[0-9]+$/.test(e)||(e=s),this.map[i]=e;break;case"audio":case"aspectautoadj":case"play":case"hidebar":case"disablebar":case"iimgbg":case"allowfull":case"allowxdom":case"loop":if(e=e.toLowerCase(),"true"!==e&&"false"!==e)if(t){var r=/^(sc?h[yi]te?)?y(e((s|ah)!?)?)?$/,n=/^((he(ck|ll))?n(o!?)?)?$/;e=/^\+?[0-9]+/.test(e)?0==parseInt(e)?"false":"true":n.test(e)?"false":r.test(e)?"true":s}else e=s;this.map[i]=e;break;case"displayaspect":case"pixelaspect":if(/^[A-Z0]$/i.test(e)){this.map[i]=e;break}var o,h;t?(o=/^\+?([0-9]+(\.[0-9]+)?)([Xx: \t\f\v\^\$\\\.\*\+\?\(\)\[\]\{\}\|\/,!@#%&_=`~><-]+([0-9]+(\.[0-9]+)?))?$/,h=/^([0-9]+)[Xx: \t\f\v\^\$\\\.\*\+\?\(\)\[\]\{\}\|\/,!@#%&_=`~><-]+([0-9]+)$/):(o=/^\+?([0-9]+(\.[0-9]+)?)([Xx:]([0-9]+(\.[0-9]+)?))?$/,h=/^([0-9]+)[Xx:]([0-9]+)$/),null!==(a=o.exec(e))?this.map[i]=a[1]+(a[4]?":"+a[4]:":1"):null!==(a=h.exec(e))?this.map[i]=a[1]+":"+a[2]:this.map[i]=s;break;case"align":switch(e){case"left":case"right":case"center":case"none":break;default:this.map[i]=s}break;case"preload":switch(e){case"none":case"metadata":case"auto":case"image":break;default:this.map[i]=s}break;case"url":case"cssurl":case"iimage":case"mtype":case"playpath":case"altvideo":case"classid":case"codebase":break;default:this.map[i]=s}},get_mce_dat:function(){if("done"!==this.ini_timer)return{ed:!1};if("undefined"==typeof this.tmv){var t={};t.v=this.tmce_ma,t.vmn=this.tmce_mn,t.old=t.v<4,t.ng=t.old&&t.vmn<4,this.tmv=t}return this.tmv.ed=tinymce.activeEditor||!1,this.tmv.hid=this.tmv.ed?this.tmv.ed.isHidden():!0,this.tmv.txt=this.tmv.ed?this.tmv.ed.getElement():!1,this.tmv},get_edval:function(){var t=this.get_mce_dat(),e=t.ed;if(e&&t.hid){if(t.txt)return t.txt.value}else if(e){var i;tinymce.isIE&&(e.focus(),i=e.selection.getBookmark()),tinymce.triggerSave();var s=t.txt,a=s?s.value:e.getContent({format:"raw"});return tinymce.isIE&&(e.focus(),e.selection.moveToBookmark(i)),a}return jQuery(edCanvas).val()},set_edval:function(t){var e=this.get_mce_dat(),i=e.ed;if(i&&!e.hid&&e.old){var s,a,r=!1;return i.focus(),s=i.selection.getBookmark(),i.setContent("",{format:"raw"}),(a=e.txt)?(a.value=t,i.load(a)):r=i.setContent(t,{format:"raw"}),i.focus(),i.selection.moveToBookmark(s),r}if(i&&!e.hid){i.focus();var n=i.selection,r=(n?n.getStart():!1,i.setContent(t,{format:"raw"}));return i.nodeChanged(),i.hide(),i.show(),r}return jQuery(edCanvas).val(t)},put_at_cursor:function(t){var e=this.get_mce_dat(),i=e.ed;if(!i||e.hid)return send_to_editor(t),!1;var s;if(s=i.dom.getParent(i.selection.getNode(),"div.evhTemp")){var a=i.dom.create("p");i.dom.insertAfter(a,s),i.selection.setCursorLocation(a,0)}return i.selection.setContent(t,{format:"text"}),i.setContent(i.getContent()),tinymce.triggerSave(),!1},get_edval_OLD:function(){if("undefined"!=typeof tinymce){var t;if((t=tinyMCE.activeEditor)&&!t.isHidden()){var e;return tinymce.isIE&&(t.focus(),e=t.selection.getBookmark()),c=t.getContent({format:"raw"}),tinymce.isIE&&(t.focus(),t.selection.moveToBookmark(e)),c}}return jQuery(edCanvas).val()},set_edval_OLD:function(t){if("undefined"!=typeof tinymce){var e;if((e=tinyMCE.activeEditor)&&!e.isHidden()){var i;tinymce.isIE&&(e.focus(),i=e.selection.getBookmark(),e.setContent("",{format:"raw"}));var s=e.setContent(t,{format:"raw"});return tinymce.isIE&&(e.focus(),e.selection.moveToBookmark(i)),s}}return jQuery(edCanvas).val(t)},put_at_cursor_OLD:function(t){send_to_editor(t)},mk_shortcode:function(t,e){var i=this.map[t];delete this.map[t],this.sanitize();var s="";for(var a in this.map){var r=this.map[a];void 0!=this.defs[a]&&""!=r&&(s+=" "+a+'="'+r+'"')}if(""==s)return null;var n="["+e+s+"]";return n+=i+"[/"+e+"]"},find_rbrack:function(t){for(var e=0;e<t.length&&"]"!==t.charAt(e);){var i=t.substring(e);if(i.length<3)return-1;var s=i.indexOf('"')+1;if(e+=s,0>=s)return-1;if(i=i.substring(s),i.length<2)return-1;if(s=i.indexOf('"')+1,e+=s,0>=s)return-1;for(i=i.substring(s);" "==i.charAt(0);)++e,i=i.substring(1)}return e<t.length?e:-1},sc_from_line:function(t,e,i){var s=!1,a=t.indexOf("[/"+i+"]",0);if(a>0&&(s=!0,t=t.slice(0,a)),t=this.ltrim(t),"]"==t.charAt(0))return s&&(this.map[e]=t.substring(1)),!0;for(;(a=t.indexOf("=",0))>0;){var r=t.slice(0,a);if(r.length<1)return!1;if(t=t.substring(a+1),'"'!=t.charAt(0))return!1;if(t=t.substring(1),a=t.indexOf('"',0),0>a)return!1;if(this.map[r]=t.slice(0,a),t=this.ltrim(t.substring(a+1)),"]"==t.charAt(0))return s&&(this.map[e]=t.substring(1)),!0}return!1},rmsc_xed:function(t,e,i,s){if(""==this.last_match)return!1;var a=this.get_edval();if(null==a)return!1;var r="["+s,n=a.split(r);if(n.length<2)return!1;for(var o,h=[],c=0,l=0;c<n.length&&(o=n[c++],o!=this.last_match);)h[l++]=o;var u;if(l>=n.length||(u=this.find_rbrack(o))<0)return!1;o=o.substring(u+1);var d="[/"+s+"]";for(u=o.indexOf(d),u>=0&&(o=o.substring(u+d.length)),o.length&&(h[l?l-1:l++]+="\n<br/>\n<br/>\n"+o);c<n.length;)h[l++]=n[c++];try{this.set_edval(h.join(r)),this.last_match=""}catch(f){}return!1},repl_xed:function(t,e,i,s){if(""==this.last_match)return!1;var a=this.get_edval();if(null==a)return!1;var r="["+s,n=a.split(r);if(n.length<2)return!1;this.fill_map(t,e);var o=this.mk_shortcode(i,s);if(null==o)return!1;for(var h,c=0;c<n.length&&(h=n[c],h!=this.last_match);c++);if(c>=n.length)return!1;var l="[/"+s+"]";n[c]=o.substring(r.length);var u=h.indexOf(l);u>0?(u+=l.length,h.length>=u&&(n[c]+=h.substring(u))):(u=h.indexOf("]"))>0&&h.length>u&&(n[c]+=h.substring(u+1));try{h=n[c],this.set_edval(n.join(r)),this.last_match=h}catch(d){console.log("repl_xed, RETURN EARLY: catch -- "+d.name+': "'+d.message+'"')}return!1},from_xed:function(t,e,i,s){var a=this.get_edval();if(null==a)return!1;var r=a.split("["+s);if(r.length<2)return!1;this.set_fm("defs",t,e),this.last_from>=r.length&&(this.last_from=0);for(var n=this.last_from,o=n;n<r.length;n++){var h=r[n];if(this.map={},1==this.sc_from_line(h,i,s)){this.last_match=h;break}}return this.last_from=n+1,n<r.length?(this.sanitize(),this.set_fm("map",t,e)):o>0&&(this.last_match="",this.from_xed(t,e,i,s)),!1},fill_map:function(t,e){var i=e.length+1,s="input[id^="+e+"]",a=jQuery(t).find(s),r=this;this.map={},a.each(function(){var t,e=this.name.substring(i,this.name.length-1);"checkbox"==this.type?(t=void 0==this.checked?"":this.checked,t=""==t?"false":"true",void 0==r.defs[e]?r.map[e]=t:r.map[e]=t==r.defs[e]?"":t):"text"==this.type?(t=this.value,void 0!=r.defs[e]&&r.defs[e]==t&&(t=""),"caption"===e&&r.fpo.is(t,0)&&(t=""),r.map[e]=t):"radio"==this.type&&void 0!==this.checked&&this.checked&&(t=this.value,r.map[e]=t)}),this.sanitize()},send_xed:function(t,e,i,s){this.fill_map(t,e);var a=this.mk_shortcode(i,s);return null!=a&&this.put_at_cursor(a),!1},set_fm:function(t,e,i){var s=i.length+1,a="input[id^="+i+"]",r=this,n=jQuery(e).find(a);return n.each(function(){var e,i=this.name.substring(s,this.name.length-1);void 0!=(e=r[t][i])&&("checkbox"==this.type?this.checked="true"==e?"checked":"":"text"==this.type?(this.value=e,"caption"===i&&r.fpo.is(e,0)&&(e="",this.value=e)):"radio"==this.type&&this.value==e?this.checked="checked":"radio"==this.type&&(this.checked=""))}),!1},reset_fm:function(t,e){return this.set_fm("defs",t,e)},form_cpval:function(t,e,i,s){var a=e.length+1,r=null,n="*[id^="+e+"]",o=jQuery(t).find(n);return o.each(function(){if(void 0!=this.name){var t=this.name.substring(a,this.name.length-1);if(t==i)return r=this.value,!1}}),null==r?!1:(o.each(function(){if(void 0!=this.name){var t=this.name.substring(a,this.name.length-1);if(t==s)return this.value=decodeURIComponent(r),!1}}),!1)},form_apval:function(t,e,i,s){var a=e.length+1,r=null,n="*[id^="+e+"]",o=jQuery(t).find(n),h=this;return o.each(function(){if(void 0!=this.name){var t=this.name.substring(a,this.name.length-1);if(t==i)return r=this.value,!1}}),null==r?!1:(o.each(function(){if(void 0!=this.name){var t=this.name.substring(a,this.name.length-1);if(t==s){var e=h.trim(this.value),i=h.trim(decodeURIComponent(r));return e.length>0&&i.length>0&&(e+=" | "),this.value=e+i,!1}}}),!1)},elh:{},hideshow:function(t,e,i,s,a){var r="[id="+t+"]",n=document.getElementById(e),o=void 0===a?"normal":a;return void 0===this.elh[t]||0===this.elh[t]?(this.elh[t]=1,jQuery(r).slideUp(o),n&&(n.value=s)):(this.elh[t]=0,jQuery(r).slideDown(o),n&&(n.value=i)),!1}};var SWFPut_putswf_video_inst=new SWFPut_putswf_video_xed;