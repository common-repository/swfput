/*
 *      front.js
 *      
 *      Copyright 2014 Ed Hynan <edhynan@gmail.com>
 *      
 *      This program is free software; you can redistribute it and/or modify
 *      it under the terms of the GNU General Public License as published by
 *      the Free Software Foundation; specifically version 3 of the License.
 *      
 *      This program is distributed in the hope that it will be useful,
 *      but WITHOUT ANY WARRANTY; without even the implied warranty of
 *      MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *      GNU General Public License for more details.
 *      
 *      You should have received a copy of the GNU General Public License
 *      along with this program; if not, write to the Free Software
 *      Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
 *      MA 02110-1301, USA.
 */
function evhh5v_controlbar_elements(t,i){var e=evhh5v_controlbar_elements_check(t,!1);if(e){var s=t.iparm,h=s.uniq,r=(s.vidid,t.oparm);"none"!==r.std.preload&&e.setAttribute("preload","none"),e.removeAttribute("controls");var a={parentdiv:s.parentdiv,auxdiv:s.auxdiv,id:s.id?s.id:"evhh5v_ctlbar_svg_"+h,ctlbardiv:s.bardivid?s.bardivid:"evhh5v_ctlbar_div_"+h,parent:s.barobjid?s.barobjid:"evhh5v_ctlbar_obj_"+h,role:s.role?s.role:"bar"};r.uniq||(r.uniq={});for(var n in a)n in r.uniq||(r.uniq[n]=a[n]);var o=s.barurl,l=r.uniq.parentdiv,d=r.uniq.auxdiv,c=document.createElement("div");c.setAttribute("id",r.uniq.ctlbardiv),c.setAttribute("class",s.divclass),c.style.width=""+s.width+"px";var _=document.createElement("object");_.setAttribute("id",r.uniq.parent),_.setAttribute("class",s.divclass);var v,u,b,p="";b="?";for(var m in r)for(var n in r[m])u=""+r[m][n],p+=b+n+"="+u,v=document.createElement("param"),v.setAttribute("name",n),v.setAttribute("value",u),_.appendChild(v),b="&";_.style.width=""+s.width+"px",_.style.height=""+s.barheight+"px",_.setAttribute("onload","evhh5v_ctlbarload(this, '"+l+"'); return false;"),_.setAttribute("type","image/svg+xml"),_.setAttribute("data",o+(evhh5v_need_svg_query()?p:"")),v=document.createElement("p"),v.innerHTML=s.altmsg,_.appendChild(v),c.appendChild(_);var f=document.getElementById(d);o=s.buturl;var g;g=document.createElement("div"),g.setAttribute("id","b_"+r.uniq.ctlbardiv),g.setAttribute("class",s.divclass),_=document.createElement("object"),_.setAttribute("id","b_"+r.uniq.parent),_.setAttribute("class",s.divclass),p="?parentdiv="+l,v=document.createElement("param"),v.setAttribute("name","parentdiv"),v.setAttribute("value",l),_.appendChild(v),p+="&parent=b_"+r.uniq.parent,v=document.createElement("param"),v.setAttribute("name","parent"),v.setAttribute("value","b_"+r.uniq.parent),_.appendChild(v),p+="&ctlbardiv=b_"+r.uniq.ctlbardiv,v=document.createElement("param"),v.setAttribute("name","ctlbardiv"),v.setAttribute("value","b_"+r.uniq.ctlbardiv),_.appendChild(v),p+="&role=1st",v=document.createElement("param"),v.setAttribute("name","role"),v.setAttribute("value","1st"),_.appendChild(v),_.setAttribute("onload","evhh5v_ctlbutload(this, '"+l+"'); return false;"),_.setAttribute("type","image/svg+xml"),_.setAttribute("data",o+(evhh5v_need_svg_query()?p:"")),g.appendChild(_),o=s.volurl;var w;w=document.createElement("div"),w.setAttribute("id","v_"+r.uniq.ctlbardiv),w.setAttribute("class",s.divclass),_=document.createElement("object"),_.setAttribute("id","v_"+r.uniq.parent),_.setAttribute("class",s.divclass),p="?parentdiv="+l,v=document.createElement("param"),v.setAttribute("name","parentdiv"),v.setAttribute("value",l),_.appendChild(v),p+="&parent=v_"+r.uniq.parent,v=document.createElement("param"),v.setAttribute("name","parent"),v.setAttribute("value","v_"+r.uniq.parent),_.appendChild(v),p+="&ctlbardiv=v_"+r.uniq.ctlbardiv,v=document.createElement("param"),v.setAttribute("name","ctlbardiv"),v.setAttribute("value","v_"+r.uniq.ctlbardiv),_.appendChild(v),p+="&role=vol",v=document.createElement("param"),v.setAttribute("name","role"),v.setAttribute("value","vol"),_.appendChild(v),_.setAttribute("onload","evhh5v_ctlvolload(this, '"+l+"'); return false;"),_.setAttribute("type","image/svg+xml"),_.setAttribute("data",o+(evhh5v_need_svg_query()?p:"")),w.appendChild(_),f.appendChild(w),f.appendChild(c),f.appendChild(g),void 0!==i&&1==i&&evhh5v_fixup_elements(t)}}function evhh5v_controlbar_elements_check(t,i){if(i||(i=document.getElementById(t.iparm.vidid)),!i)return!1;var e=!1,s=[];s.push(i);for(var h=0;h<i.childNodes.length;h++){var r=i.childNodes.item(h),a=r.nodeName.toLowerCase();"object"!=a?"source"==a&&s.push(r):void 0!==t.flashid&&t.flashid===r.id&&(e="function"==typeof evhh5v_get_flashsupport&&evhh5v_get_flashsupport()?r:!1)}for(var n=[],o=0,l=0,d=0,c=0;s.length;){var _=!1,v=!1,u=s.shift(),b=u.getAttribute("src"),r=u.getAttribute("type");if(b&&!(b.length<1))if(c++,(!r||r.length<1)&&(b.match(/.*\.(mp4|m4v|mv4)[ \t]*$/i)?(r="video/mp4",_=!0,v=b,n.push(v)):b.match(/.*\.(og[gv]|vorbis)[ \t]*$/i)?(r="video/ogg",_=!0):b.match(/.*\.(webm|wbm|vp[89])[ \t]*$/i)?(r="video/webm",_=!0):b.match(/.*\.(flv)[ \t]*$/i)&&(v=b,n.push(v))),!r||r.length<1)d++;else{!v&&r.match(/.*video\/(mp4|flv).*/i)&&(v=b,n.push(v));var p=i.canPlayType(r);"probably"==p?l++:"maybe"==p?o++:_=!1,_&&u.setAttribute("type",r)}}if(l>0||o>0)return i;if(e!==!1){var m=i.parentNode,f=m.parentNode;i.removeChild(e);for(var g=[],h=0;h<e.childNodes.length;h++)g.push(e.childNodes.item(h));for(;g.length;){var r=g.shift(),a=r.nodeName.toLowerCase();"param"!=a&&(e.removeChild(r),i.appendChild(r))}return f.replaceChild(e,m),e.appendChild(m),window.addEventListener&&window.addEventListener("load",function(){var t=e.id;try{if(e.get_ack(t)!=t)return void evhh5v_msg('FAILED evhswf ack from "'+t+'"');for(var i=0,s=n.length;s>i;i++){var h=encodeURI(n[i]);e.add_alt_url(h,!0)}}catch(r){evhh5v_msg('EXCEPTION calling evhswf: "'+r.message+'"')}},!1),!1}return t.flashid&&evhh5v_get_flashsupport()&&(e=i.parentNode.parentNode,"object"===e.nodeName.toLowerCase()&&t.flashid===e.id)?(window.addEventListener&&window.addEventListener("load",function(){var t=e.id;try{if(e.get_ack(t)!=t)return void evhh5v_msg('FAILED evhswf ack from "'+t+'"');for(var i=0,s=n.length;s>i;i++){var h=encodeURI(n[i]);e.add_alt_url(h,!0)}}catch(r){evhh5v_msg('EXCEPTION calling evhswf: "'+r.message+'"')}},!1),!1):c>0?i:!1}function evhh5v_add_instance(t){evhh5v_sizer_instances.push(t)}function evhh5v_fullscreen_ok(){return evhh5v_fullscreen.if_defined()}function evhh5v_setvisi(t,i){t&&t.setAttribute("visibility",i)}function evhh5v_svg_click(t,i){var e=evhh5v_ctlbarmap[i.parentdiv];e&&e.loaded&&e.evhh5v_controller&&e.evhh5v_controller.button_click(t)}function evhh5v_put_ctlbarmap(t){if(!t.parentdiv||!t.role)return void evhh5v_msg("evhh5v_put_ctlbarmap was passed a foul object: no parentdiv or role: "+t);var i;switch(t.role){case"1st":i=evhh5v_ctlbutmap;break;case"vol":i=evhh5v_ctlvolmap;break;case"bar":default:i=evhh5v_ctlbarmap}i[t.parentdiv]=t,i[t.parentdiv].loaded=!1}function evhh5v_ctlbarload(t,i){var e=evhh5v_ctlbarmap[i];e.evhh5v_controlbar=new evhh5v_controlbar(e),e.evhh5v_controlbar.resize_bar(e.barwidth,e.barheight),e.loaded=!0}function evhh5v_ctlbutload(t,i){evhh5v_ctlbutmap[i].loaded=!0}function evhh5v_ctlvolload(t,i){evhh5v_ctlvolmap[i].loaded=!0}function evhh5v_get_detect_type(){if(void 0!==document.evhh5v_detected_us_type)return document.evhh5v_detected_us_type;var t="unknown";return"undefined"!=typeof InstallTrigger?t="firefox":window.chrome&&window.chrome.webstore?t="chromium":window.opr&&opr.addons||window.opera||navigator.userAgent.indexOf(" OPR/")>=0?t="opera":Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0?t="safari":document.documentMode?t="msie":!document.documentMode&&window.StyleMedia&&(t="edge"),document.evhh5v_detected_us_type=t,document.evhh5v_detected_us_type}function evhh5v_need_svg_query(){if(void 0!==document.evhh5v_need_svg_query_bool)return document.evhh5v_need_svg_query_bool;var t=!0,i=evhh5v_get_detect_type();return"firefox"===i?t=!1:"chromium"===i?t=!1:"opera"===i?t=!1:"safari"==i&&(t=!0),document.evhh5v_need_svg_query_bool=t,document.evhh5v_need_svg_query_bool}function evhh5v_ua_is_mobile(){if(void 0!==document.evhh5v_ua_is_mobile_bool)return document.evhh5v_ua_is_mobile_bool;document.evhh5v_ua_is_mobile_bool=!1;var t=navigator.userAgent;return(t.indexOf("Mobile")>=0||t.indexOf("Android")>=0||t.indexOf("Silk/")>=0||t.indexOf("Kindle")>=0||t.indexOf("BlackBerry")>=0||t.indexOf("Opera Mini")>=0||t.indexOf("Opera Mobi")>=0)&&(document.evhh5v_ua_is_mobile_bool=!0),document.evhh5v_ua_is_mobile_bool}function evhh5v_fixup_elements(t){var i=t.iparm;if(/Opera/i.test(navigator.userAgent)){var e=document.getElementById(i.auxdiv);if(e&&"object"===e.parentNode.nodeName.toLowerCase()){var s=e.parentNode,h=s.parentNode;s.removeChild(e),h.replaceChild(e,s)}}}"undefined"!=typeof jQuery&&jQuery(function(){"undefined"!=typeof wp&&wp.customize&&wp.customize.selectiveRefresh&&wp.customize.selectiveRefresh.bind("partial-content-rendered",function(t){try{if("undefined"==typeof t.removedNodes)return!0;var i=t.removedNodes;if(!i instanceof jQuery||!i.is(".SWF_put_widget_evh"))return!0;var e=i[0].getElementsByClassName("widget");if(!e)return!0;var s=e.length;if(1>s)return!0;for(var h=!1,r=-1,a=evhh5v_sizer_instances.length,n=0;a>n;n++){for(var o=evhh5v_sizer_instances[n],l=o.div_id,d=!1,c=0;s>c;c++)if(e[c].id===l){h=o,r=n,d=!0;break}if(d)break}if(0>r)return!0;evhh5v_sizer_instances.splice(r,1);var _,v=h.va_o||!1,u=h.o||!1;_="pause",v&&"function"==typeof v[_]&&v[_](),u&&"function"==typeof u[_]&&u[_]()}catch(b){var p=b.message;console.log("evhh5v placement handler exception: "+p)}return!0})});var evhh5v_sizer_instances=[],evhh5v_sizer_event_relay=function(t){for(var i=0;i<evhh5v_sizer_instances.length;i++){if(void 0!=evhh5v_ctlbarmap&&void 0==evhh5v_sizer_instances[i].ctlbar){var e=evhh5v_sizer_instances[i].d;e&&(e=evhh5v_ctlbarmap[e.id],e&&e.loaded&&evhh5v_sizer_instances[i].add_ctlbar(e))}t&&evhh5v_sizer_instances[i].resize(),evhh5v_sizer_instances[i].handle_resize()}};!function(){if(window.addEventListener){var t=250,i=!1,e=function(e){i=i||setTimeout(function(){i=!1,evhh5v_sizer_event_relay("load"===e.type)},t)};document.addEventListener("load",e,!0),window.addEventListener("load",e,!0),window.addEventListener("resize",e,!0)}else{var s=document.onload,h=window.onload,r=window.onresize;document.onload=function(){"function"==typeof evhh5v_video_onlddpre&&s(),evhh5v_sizer_event_relay(!0)},window.onload=function(){"function"==typeof evhh5v_video_onldwpre&&h(),evhh5v_sizer_event_relay(!0)},window.onresize=function(){"function"==typeof evhh5v_video_onszwpre&&r(),evhh5v_sizer_event_relay(!1)}}}();var evhh5v_sizer=function(t,i,e,s){this.ia_rat=1,this.hpad=0,this.vpad=0,this.wdiv=null,this.bld=null,this.inresize=0,this.d=document.getElementById(t),this.d&&(this.div_id=t,this.o=document.getElementById(i),this.va_o=document.getElementById(e),this.ia_o=document.getElementById(s),this.get_pads(),this.wdiv=this.d.offsetWidth,this.ia_o&&this.ia_o.width>1&&(this.ia_rat=this.ia_o.width/this.ia_o.height),void 0!=this.d.style&&void 0!=this.d.style.maxWidth&&"none"!=this.d.style.maxWidth&&""!=this.d.style.maxWidth||(this.d.style.maxWidth="100%"),evhh5v_add_instance(this))};evhh5v_sizer.prototype={add_ctlbar:function(t){if(!(this.va_o instanceof evhh5v_controller)){if(!t)return void evhh5v_msg("BAD CTLBAR == "+t);this.ctlbar=t,this.va_o=new evhh5v_controller(this.va_o,t,0),this.va_o.mk()}},_style:function(t,i){return evhh5v_getstyle(t,i)},get_pads:function(){var t=this._style(this.d,"padding-left")||0;this.hpad=parseInt(t),t=this._style(this.d,"paddin g-right")||0,this.hpad+=parseInt(t),t=this._style(this.d,"padding-top")||0,this.vpad=parseInt(t),t=this._style(this.d,"padding-bottom")||0,this.vpad+=parseInt(t)},handle_resize:function(){if(this.d&&0==this.inresize){var t=this.d,i=(this.wdiv,t.offsetWidth);this.wdiv=i,this.get_pads(),this.resize()}},_int_rsz:function(t){var i=this.d;if(i){var e=this.wdiv;if(e){var s=0,h=t.height,r=t.width,a=r/h,n=evhh5v_view_dims(),o=n.height-16;try{void 0!==evhh5v_sizer_maxheight_off&&evhh5v_sizer_maxheight_off&&(o=e/a+1)}catch(l){}e/a>o&&(e=Math.round(o*a)),e=Math.min(e,n.width),s=Math.round(Math.max((this.wdiv-e)/2-.5,0)),r=e,h=Math.round(r/a),t.height=h,t.width=r;try{void 0!==t.pixelHeight&&(t.pixelHeight=h,t.pixelWidth=r)}catch(l){}s=""+s+"px",i.style.paddingLeft=s,i.style.paddingRight=s}}},_int_imgrsz:function(t){if(void 0===t.complete||t.complete){if(void 0===t.naturalWidth||void 0===t.naturalHeight){if(void 0!==t._swfo)return;t.naturalWidth=t.width,t.naturalHeight=t.height}void 0!==t._ratio_user&&(this.ia_rat=t._ratio_user);var i=this.wdiv;if(null!=i){i-=this.hpad;var e=this.ia_rat,s=t.naturalWidth/t.naturalHeight;e>s?(t.height=Math.round(i/e),t.width=Math.round(t.height*s)):(t.width=i,t.height=Math.round(i/s))}}},resize:function(){this.d&&(this.inresize=1,this.o&&this._int_rsz(this.o),this.va_o&&this._int_rsz(this.va_o),this.ia_o&&this._int_imgrsz(this.ia_o),this.inresize=0)}};
// map of symbols derived from code with copyright, MIT license,
/*!
* screenfull
* v1.1.1 - 2013-11-20
* https://github.com/sindresorhus/screenfull.js
* (c) Sindre Sorhus; MIT License
*/
var evhh5v_fullscreen={if_defined:function(){return this.get_symset_key()!==!1},capable:function(){try{return!!this.enabled()}catch(t){return!1}},request:function(t){var i=void 0===t?document:t;i[this.map_val("request")]()},exit:function(){document[this.map_val("exit")]()},element:function(){return document[this.map_val("element")]},enabled:function(){return document[this.map_val("enabled")]},handle_change:function(t,i){return this.handle_evt("change_evt",t,i)},handle_error:function(t,i){return this.handle_evt("error_evt",t,i)},handle_evt:function(t,i,e){var s="on"+this.map_val(t),h=void 0===e?document:e,r=h[s];return h[s]=i,r},map_val:function(t){return t in this.idxmap||this._throw("invalid key: "+t),this.set_throw()[this.idxmap[t]]},set_throw:function(){var t=this.get_symset();return t===!1&&this._throw(),t},get_symset_key:function(){if(void 0==this.symset_key){var t=!1;for(var i in this.syms)if(this.syms[i][this.idxmap.exit]in document){t=i;break}this.symset_key=t}return this.symset_key},get_symset:function(){if(void 0==this.symset){var t=this.get_symset_key();this.symset=t===!1?!1:this.syms[t]}return this.symset},_throw:function(t){throw ReferenceError(void 0==t?this.def_msg:t)},def_msg:"fullscreen mode is not available",idxmap:{request:0,exit:1,element:2,enabled:3,change_evt:4,error_evt:5},syms:{spec:["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],wk:["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],wkold:["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],moz:["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],ms:["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","msfullscreenchange","msfullscreenerror"]}},evhh5v_controlbar=function(t){this.OK=!1,this.parms=t,this.doc=t.docu_svg,this.svg=t.root_svg,this.ns=this.svg.getAttribute("xmlns"),this.rszo=[],this.inibut_use_clearbg=!0,this.prog_pl_click_cb=[],this.vol_horz=!1,Math.hypot&&(this.hypot=function(t,i){return Math.hypot(t,i)}),this.wndlength_orig=this.wndlength=parseInt(t.barwidth),this.wndheight=parseInt(t.barheight),this.barheight=parseInt(t.barheight),this.sclfact=this.barheight/100,this.barpadding=0,this.btnstrokewid=1*this.sclfact,this.btnhighltwid=1*this.sclfact,this.strokewidthfact=.05,this.var_init(),this.mk()};evhh5v_controlbar.prototype={proto_set:function(t,i){evhh5v_controlbar.prototype[t]=i},wrad:40,wnparts:9,wnfrms:9,wnfps:12,init_stroke:9,fepsilon:1e-4,treq_r_bh:1.1547005383792515,treq_r_hb:.8660254037844386,treq_mid_y:.28867513459481,treqheight:function(t){return t*this.treq_r_hb},treqbase:function(t){return t*this.treq_r_bh},pi_hemi:Math.PI/180,deg2rad:function(t){return t*this.pi_hemi},rad2deg:function(t){return t/this.pi_hemi},hypot:function(t,i){return Math.sqrt(t*t+i*i)},line_length:function(t,i,e,s){var h=Math.abs(e-t),r=Math.abs(s-i);return h<this.fepsilon?r:r<this.fepsilon?h:this.hypot(h,r)},points_rotate:function(t,i,e,s){for(var h=0;h<t.length;h++){var r=t[h][0]-e,a=t[h][1]-s,n=0>a;n&&(r=-r,a=-a);var o=this.line_length(r,a,0,0);if(!(o<this.fepsilon)){var l=Math.acos(r/o)+i;r=Math.cos(l)*o,a=Math.sin(l)*o,n&&(r=-r,a=-a),t[h][0]=r+e,t[h][1]=a+s}}return t},svg_cubic:function(t){for(var i=t[0][0],e=t[0][1],s="M "+i+" "+e,h=1;h<t.length-3;h+=3){var r=t[h][0],a=t[h][1],n=t[h+1][0],o=t[h+1][1],l=t[h+2][0],d=t[h+2][1];s+=" C "+r+" "+a+" "+n+" "+o+" "+l+" "+d}return s},svg_drawcubic:function(t,i){var e=this.svg_cubic(i);return t.setAttribute("d",e+" Z"),t},svg_poly:function(t){for(var i=t[0][0],e=t[0][1],s="M "+i+" "+e,h=1;h<t.length;h++)i=t[h][0],e=t[h][1],s+=" L "+i+" "+e;return s},svg_drawpoly:function(t,i){var e=this.svg_poly(i);return t.setAttribute("d",e+" Z"),t},svg_treq_points:function(t,i,e,s){var h=e/2,r=this.treqbase(e),a=r/2,n=(e-r)/2,o=[[t+n,i+e],[t+n+r,i+e],[t+n+a,i],[t+n,i+e]];return s&&(o=this.points_rotate(o,s,t+h,i+h)),o.slice(0)},svg_treq:function(t,i,e,s){return this.svg_poly(this.svg_treq_points(t,i,e,s))},svg_drawtreq:function(t,i,e,s,h){var r=this.svg_treq(i,e,s,h);return t.setAttribute("d",r+" Z"),t},svg_treq2_points:function(t,i,e,s){var h=this.treqbase(e),r=h/2,a=-r,n=h*this.treq_mid_y,o=a+t,l=n+i,d=[[o,l],[o+h,l],[o+r,l-e],[o,l]];return s&&(d=this.points_rotate(d,s,t,i)),d.slice(0)},svg_treq2:function(t,i,e,s){return this.svg_poly(this.svg_treq2_points(t,i,e,s))},svg_drawtreq2:function(t,i,e,s,h){var r=this.svg_treq2(i,e,s,h);return t.setAttribute("d",r+" Z"),t},svg_rect_points:function(t,i,e,s,h){var r=[[t,i],[t+e,i],[t+e,i+s],[t,i+s],[t,i]];if(h){var a=t+e/2,n=i+s/2;r=this.points_rotate(r,h,a,n)}return r.slice(0)},svg_rect:function(t,i,e,s,h){return this.svg_poly(this.svg_rect_points(t,i,e,s,h))},svg_drawrect:function(t,i,e,s,h,r){var a=this.svg_rect(i,e,s,h,r);return t.setAttribute("d",a+" Z"),t},mk_button:function(t,i,e,s,h,r,a){var n=void 0==a?this.doc:a,o=n.createElementNS(this.ns,"svg");return o.setAttribute("class",t),o.setAttribute("id",i),o.setAttribute("x",e),o.setAttribute("y",s),o.setAttribute("width",h),o.setAttribute("height",r),o},mk_rect:function(t,i,e,s,h,r,a){var n=void 0==a?this.doc:a,o=n.createElementNS(this.ns,"rect");return o.setAttribute("class",t),o.setAttribute("id",i),o.setAttribute("x",e),o.setAttribute("y",s),o.setAttribute("width",h),o.setAttribute("height",r),o},mk_circle:function(t,i,e,s,h,r){var a=void 0==r?this.doc:r,n=a.createElementNS(this.ns,"circle");return n.setAttribute("class",t),n.setAttribute("id",i),n.setAttribute("cx",e),n.setAttribute("cy",s),n.setAttribute("r",h),n},mk_ico:function(t,i,e,s,h,r,a){var n=void 0==a?this.doc:a,o=n.createElementNS(this.ns,"path");return o.setAttribute("class",t),o.setAttribute("id",i),o.setAttribute("x",e),o.setAttribute("y",s),o.setAttribute("width",h),o.setAttribute("height",r),o},put_rszo:function(t){this.rszo.push(t)},mk_prog_pl:function(t){var i=(this.barlength,this.barheight,this.progressbarheight),e=this.progressbaroffs,s=this.progressbarlength,h=this.progressbarxoffs,r=h,a=e,n=this,o=function(t){n.prog_pl_click(t)},l=this.mk_rect("progseekbg","prog_seekbg",r,a,s,i);t.appendChild(l),l.addEventListener("click",o,!1),l.addEventListener("touchstart",o,!1),this.put_rszo(l);var d=this.mk_rect("progseekfg","prog_seekfg",r,a,s,i);return t.appendChild(d),d.addEventListener("click",o,!1),d.addEventListener("touchstart",o,!1),this.put_rszo(d),[l,d]},mk_prog_dl:function(t){var i=(this.barlength,this.barheight),e=this.progressbarheight,s=this.progressbaroffs,h=this.progressbarlength,r=this.progressbarxoffs,a=r,n=i-(e+s),o=this.mk_rect("progloadbg","prog_loadbg",a,n,h,e);t.appendChild(o),this.put_rszo(o);var l=this.mk_rect("progloadfg","prog_loadfg",a,n,h,e);return t.appendChild(l),this.put_rszo(l),[o,l]},mk_bgrect:function(t){var i=this.barlength,e=this.barheight,s=this.mk_rect("bgrect","bgrect",0,0,i,e);return s.setAttribute(this.is_mobile()?"ontouchstart":"onclick","svg_click(this);return false;"),t.appendChild(s),this.put_rszo(s),s},mk_cna:function(){var t=this.butwidth,i=this.butheight,e=t*this.strokewidthfact,s=.70710678,h=t/2-t/2*s+e,r=i/2-i/2*s+e;this.cnside=(t+i)/2/4*1+0,this.cnaout=[[0+h,0+r],[this.cnside+h,0+r],[0+h,this.cnside+r],[0+h,0+r]];var a=this.hypot(this.cnside,this.cnside),n=a/2,o=Math.sqrt(this.cnside*this.cnside-n*n),l=o/2,d=Math.sqrt(l*l/2);h-=d,r-=d,this.cnain=[[this.cnside+h,0+r],[this.cnside+h,this.cnside+r],[0+h,this.cnside+r],[this.cnside+h,0+r]]},mk_volume:function(t,i){var e,s,h=this.butwidth,r=this.butheight,a=this.triangleheight,n=r/2-.5,o=h*i,l=(this.barheight-r)/2,d=h*this.strokewidthfact,c=.5*h,_=c-this.btnstrokewid,v=c-this.btnhighltwid,u=this,b=function(t){var i=this;return u.hdl_volctl(t,i)},p=this.mk_button("svgbutt","volume",o-d/2,l-d/2,h+d,r+d);p.setAttribute(this.is_mobile()?"ontouchstart":"onclick","svg_click(this);return false;"),p.setAttribute("onmouseover","setvisi('volume_highlight','visible');"),p.setAttribute("onmouseout","setvisi('volume_highlight','hidden');"),p.addEventListener("wheel",b,!1);var m=this.mk_circle("btn2","volume_base","50%","50%",c);p.appendChild(m),m=this.mk_circle("btnstroke","volume_stroke","50%","50%",_),p.appendChild(m),p.hlt=m=this.mk_circle("btnhighl","volume_highlight","50%","50%",v),m.setAttribute("visibility","hidden"),p.appendChild(m),h+=d,r+=d,m=this.mk_ico("ico","volumeico",0,0,h,r);var f=6*n/11,g=a-this.trianglebase*this.treq_mid_y;e=h/2-g,s=(r-f)/2,g=.65*f;var w=this.svg_rect(e,s,g,f,0)+" Z";g=a,e=h/2,s=r/2;var y=this.svg_treq2(e,s,g,this.deg2rad(-90))+" Z";return w+=" "+y,m.setAttribute("d",y),p.appendChild(m),p.ico=m,this.volumeico=m,m=this.mk_ico("ico","volumeico2",0,0,h,r),m.setAttribute("d",w),p.appendChild(m),p.ico2=m,this.volumeico2=m,t.appendChild(p),p},mk_fullscreen:function(t,i){var e=this.butwidth,s=this.butheight,h=(this.triangleheight,e*i),r=(this.barheight-s)/2,a=e*this.strokewidthfact,n=.5*e,o=n-this.btnstrokewid,l=n-this.btnhighltwid;void 0==this.cnaout&&this.mk_cna();var d=this.mk_button("svgbutt","fullscreen",h-a/2,r-a/2,e+a,s+a);d.setAttribute(this.is_mobile()?"ontouchstart":"onclick","svg_click(this);return false;"),d.setAttribute("onmouseover","setvisi('fullscreen_highlight','visible');"),d.setAttribute("onmouseout","setvisi('fullscreen_highlight','hidden');");var c=this.mk_circle("btn2","fullscreen_base","50%","50%",n);d.appendChild(c),c=this.mk_circle("btnstroke","fullscreen_stroke","50%","50%",o),d.appendChild(c),d.hlt=c=this.mk_circle("btnhighl","fullscreen_highlight","50%","50%",l),c.setAttribute("visibility","hidden"),d.appendChild(c),d.disabfilter=this.disabfilter,e+=a,s+=a,c=this.mk_ico("ico","fullscreenout",0,0,e,s);var _=e/2,v=s/2,u=this.cnaout;u=this.points_rotate(u,this.deg2rad(45),_,v);var b=this.svg_poly(u)+" Z";return u=this.points_rotate(u,this.deg2rad(90),_,v),b+=" "+this.svg_poly(u)+" Z",u=this.cnaout,u=this.points_rotate(u,this.deg2rad(90),_,v),b+=" "+this.svg_poly(u)+" Z",u=this.cnaout,u=this.points_rotate(u,this.deg2rad(90),_,v),b+=" "+this.svg_poly(u)+" Z",c.setAttribute("d",b),c.setAttribute("visibility","hidden"),d.appendChild(c),d.ico_out=c,this.fullscreenicoout=c,c=this.mk_ico("ico","fullscreenin",0,0,e,s),_=e/2,v=s/2,u=this.cnain,u=this.points_rotate(u,this.deg2rad(45),_,v),b=this.svg_poly(u)+" Z",u=this.points_rotate(u,this.deg2rad(90),_,v),b+=" "+this.svg_poly(u)+" Z",u=this.cnain,u=this.points_rotate(u,this.deg2rad(90),_,v),b+=" "+this.svg_poly(u)+" Z",u=this.cnain,u=this.points_rotate(u,this.deg2rad(90),_,v),b+=" "+this.svg_poly(u)+" Z",c.setAttribute("d",b),d.appendChild(c),d.ico_in=c,this.fullscreenicoin=c,t.appendChild(d),d},mk_doscale:function(t,i){var e=this.butwidth,s=this.butheight,h=(this.triangleheight,e*i),r=(this.barheight-s)/2,a=e*this.strokewidthfact,n=.5*e,o=n-this.btnstrokewid,l=n-this.btnhighltwid;void 0==this.cnaout&&this.mk_cna();var d=this.mk_button("svgbutt","doscale",h-a/2,r-a/2,e+a,s+a);d.setAttribute(this.is_mobile()?"ontouchstart":"onclick","svg_click(this);return false;"),d.setAttribute("onmouseover","setvisi('doscale_highlight','visible');"),d.setAttribute("onmouseout","setvisi('doscale_highlight','hidden');");var c=this.mk_circle("btn2","doscale_base","50%","50%",n);d.appendChild(c),c=this.mk_circle("btnstroke","doscale_stroke","50%","50%",o),d.appendChild(c),d.hlt=c=this.mk_circle("btnhighl","doscale_highlight","50%","50%",l),c.setAttribute("visibility","hidden"),d.appendChild(c),d.disabfilter=this.disabfilter,e+=a,s+=a,c=this.mk_ico("ico","doscaleout",0,0,e,s);var _=e/2,v=s/2,u=this.cnaout;u=this.points_rotate(u,this.deg2rad(-45),_,v);var b=this.svg_poly(u)+" Z";u=this.cnaout,u=this.points_rotate(u,this.deg2rad(180),_,v),b+=" "+this.svg_poly(u)+" Z";var p=this.cnside;_-=p/2,v-=p/2;var o=this.svg_rect(_,v,p,p,0);return b+=" "+o+" Z",c.setAttribute("d",b),c.setAttribute("visibility","hidden"),d.appendChild(c),d.ico_out=c,this.doscaleicoout=c,c=this.mk_ico("ico","doscalein",0,0,e,s),_=e/2,v=s/2,u=this.cnain,u=this.points_rotate(u,this.deg2rad(-45),_,v),b=this.svg_poly(u)+" Z",u=this.cnain,u=this.points_rotate(u,this.deg2rad(180),_,v),b+=" "+this.svg_poly(u)+" Z",b+=" "+o+" Z",c.setAttribute("d",b),d.appendChild(c),d.ico_in=c,this.doscaleicoin=c,t.appendChild(d),d},mk_stop:function(t,i){var e=this.butwidth,s=this.butheight,h=(this.triangleheight,e*i),r=(this.barheight-s)/2,a=e*this.strokewidthfact,n=.5*e,o=n-this.btnstrokewid,l=n-this.btnhighltwid,d=this.mk_button("svgbutt","stop",h-a/2,r-a/2,e+a,s+a);d.setAttribute(this.is_mobile()?"ontouchstart":"onclick","svg_click(this);return false;"),d.setAttribute("onmouseover","setvisi('stop_highlight','visible');"),d.setAttribute("onmouseout","setvisi('stop_highlight','hidden');");var c=this.mk_circle("btn2","stop_base","50%","50%",n);d.appendChild(c),c=this.mk_circle("btnstroke","stop_stroke","50%","50%",o),d.appendChild(c),d.hlt=c=this.mk_circle("btnhighl","stop_highlight","50%","50%",l),c.setAttribute("visibility","hidden"),d.appendChild(c),d.disabfilter=this.disabfilter,e+=a,s+=a,c=this.mk_ico("ico","stopico",0,0,e,s);var _=s/2-.5,v=(e-_)/2,u=(s-_)/2;return d.ico=c=this.svg_drawrect(c,v,u,_,_),d.appendChild(c),this.stopico=c,t.appendChild(d),d},mk_waitanim:function(t,i){var e=this.wrad,s=this.wnparts,h=this.wnfrms,r=108/s,a=360,n=a/s,o=2.4*e,l=1*r,d=.5*r,c=r*-.25;void 0===this.arrow_shaft_data&&this.proto_set("arrow_shaft_data",[[d+.0573996*l,c+.277178*l],[d+.0606226*l,c+.0199845*l],[d+.57*l,c+.03*l],[d+.87*l,c+.1*l],[d+1.16*l,c+.21*l],[d+1.45417*l,c+.437099*l],[d+1.27005*l,c+.503488*l],[d+1.11376*l,c+.462586*l],[d+1.1448*l,c+.630027*l],[d+1.06325*l,c+.863602*l],[d+.878121*l,c+.592868*l],[d+.704932*l,c+.416057*l],[d+.447649*l,c+.305126*l],[d+.0573996*l,c+.277178*l],[d+.0606226*l,c+.0199845*l]]);var _=this.arrow_shaft_data;void 0===this.arrow_head_data&&this.proto_set("arrow_head_data",this.svg_treq_points(-r/2,-r/2,r,this.deg2rad(-90)));var v=this.arrow_head_data;void 0===this.arrow_svg_data&&this.proto_set("arrow_svg_data",this.svg_poly(v)+" Z "+this.svg_cubic(_)+" Z");var u=this.arrow_svg_data,b=this.mk_button("svgbutt","wait",0,0,o,o,i);b.setAttribute("viewbox","0 0 "+o+" "+o),b.setAttribute("visibility","hidden");var p=i.createElementNS(this.ns,"g");p.setAttribute("id","waitgmain"),p.setAttribute("transform","translate("+o/2+","+o/2+")"),this.wait_anim_obj={};var m=this.wait_anim_obj;m.transform_obj=b,m.transform_grp=p,m.transform_idx=0,m.transform_max=h,m.transform_deg=-360/m.transform_max,m.transform_frm=[];for(var f=0;f<m.transform_max;f++)m.transform_frm[f]=m.transform_deg*f;m.transform_fps=this.wnfps,m.is_running=!1,m.timehandle=!1,m.parent_obj=this,void 0===this.wait_anim_func&&this.proto_set("wait_anim_func",function(){if(this.is_running)if(this.timehandle===!1){var t=this;this.timehandle=setInterval(function(){t.anim_func()},parseInt(1e3/this.transform_fps))}else{var i=this.transform_grp,e=this.transform_frm[this.transform_idx++];this.transform_idx==this.transform_max&&(this.transform_idx=0),this.orig_trfm||(this.orig_trfm=i.getAttribute("transform")),i.setAttribute("transform",this.orig_trfm+" rotate("+e+")")}else if(this.timehandle!==!1&&(clearInterval(this.timehandle),this.timehandle=!1),this.transform_idx=0,this.orig_trfm){var i=this.transform_grp;i.setAttribute("transform",this.orig_trfm)}}),m.anim_func=this.wait_anim_func,m.start=function(){m.is_running=!0,m.anim_func()},m.stop=function(){m.is_running=!1};for(var f=0;s>f;f++){var g=n*f,w=this.deg2rad(g),y=1-g/a+.2,k=parseInt(255*y),A=parseInt(255*(y-.2)),x="rgb("+A+","+A+","+k+")",E=""+y;l=1-.5*(g/a);var C=i.createElementNS(this.ns,"g"),T=-e,I=-w;C.setAttribute("transform","translate("+T*Math.sin(I)+", "+T*Math.cos(I)+")");var q=i.createElementNS(this.ns,"path");q.setAttribute("style","stroke:none;fill:"+x+";opacity:"+E),q.setAttribute("transform","scale("+l+", "+l+") rotate("+g+") "),q.setAttribute("d",u),C.appendChild(q),p.appendChild(C)}return b.appendChild(p),this.wait_group=p,t.appendChild(b),b},mk_inibut:function(t,i){var e,s=this.wrad,h=this.init_stroke,r=2*(s+h),a=r;e=document.getElementById(this.b_parms.parent),e.style.width=""+r+"px",e.style.height=""+a+"px";var n=this.mk_button("svgbutt","inibut",0,0,r,a,i);if(n.setAttribute(this.is_mobile()?"ontouchstart":"onclick","svg_click(this);return false;"),this.inibut_use_clearbg){var o="ico_clearbg";e=this.mk_circle(o,"but_clearbg","50%","50%",s,i),n.appendChild(e),this.but_clearbg=e}return e=this.mk_circle("icoline","but_circle","50%","50%",s,i),n.appendChild(e),this.but_circle=e,e=this.mk_ico("ico","but_arrow",0,0,r,a,i),e=this.svg_drawtreq2(e,r/2,a/2,s,this.deg2rad(90)),n.appendChild(e),this.but_arrow=e,t.appendChild(n),n},mk_volctl:function(t,i){var e=this.butwidthfactor*parseInt(this.parms.barheight),s=4*e,h=e/2,r=2*h,a=s+r,n=this.vol_horz,o=this,l=function(t){return o.volctl_mousedown=1,void 0!==t.target.setCapture&&t.target.setCapture(),!1},d=function(t){if(o.volctl_mousedown){var i=this;o.hdl_volctl(t,i)}return void 0!==t.target.releaseCapture&&t.target.releaseCapture(),o.volctl_mousedown=0,!1},c=function(t){if(o.volctl_mousedown){var i=this;o.hdl_volctl(t,i)}return!1},_=function(){o.volctl_mousedown=0},v=function(t){var i=this;return o.hdl_volctl(t,i),!1};this.vol_width=n?a:r,this.vol_height=n?r:a,e=document.getElementById(this.v_parms.parent),e.style.width=""+this.vol_width+"px",e.style.height=""+this.vol_height+"px";var u=this.mk_button("svgbutt","volgadget",0,0,this.vol_width,this.vol_height,i);e=this.mk_ico("bgarea","vol_bgarea",0,0,this.vol_width,this.vol_height,i),e.style.strokeWidth=r,e=n?this.svg_drawpoly(e,[[h,h],[s+h,h],[h,h]]):this.svg_drawpoly(e,[[h,h],[h,s+h],[h,h]]),u.appendChild(e),e.addEventListener("mouseover",_,!1),this.vol_bgarea=e;var b=n?h:h/2,p=n?h/2:h,m=n?s:h,f=n?h:s;return e=this.mk_rect("bgslide","vol_bgslide",b,p,m,f,i),e.addEventListener("mousedown",l,!1),e.addEventListener("mouseup",d,!1),e.addEventListener("mousemove",c,!1),e.addEventListener("wheel",v,!1),e.addEventListener("touchmove",v,!1),u.appendChild(e),this.vol_bgslide=e,e=this.mk_rect("fgslide","vol_fgslide",b,p,m,f,i),e.addEventListener("mousedown",l,!1),e.addEventListener("mouseup",d,!1),e.addEventListener("mousemove",c,!1),e.addEventListener("wheel",v,!1),e.addEventListener("touchmove",v,!1),u.appendChild(e),this.vol_fgslide=e,t.appendChild(u),u},mk_playpause:function(t,i){var e=this.butwidth,s=this.butheight,h=this.triangleheight,r=e*i,a=(this.barheight-s)/2,n=e*this.strokewidthfact,o=.5*e,l=o-this.btnstrokewid,d=o-this.btnhighltwid,c=this.mk_button("svgbutt","playpause",r-n/2,a-n/2,e+n,s+n);c.setAttribute(this.is_mobile()?"ontouchstart":"onclick","svg_click(this);return false;"),c.setAttribute("onmouseover","setvisi('playpause_highlight','visible');"),c.setAttribute("onmouseout","setvisi('playpause_highlight','hidden');");var _=this.mk_circle("btn2","playpause_base","50%","50%",o);c.appendChild(_),_=this.mk_circle("btnstroke","playpause_stroke","50%","50%",l),c.appendChild(_),_=this.mk_circle("btnhighl","playpause_highlight","50%","50%",d),_.setAttribute("visibility","hidden"),c.appendChild(_),e+=n,s+=n,_=this.mk_ico("ico","playico",0,0,e,s),_=this.svg_drawtreq2(_,e/2,s/2,h,this.deg2rad(90)),c.appendChild(_),this.playico=_;var v=this.barwid,u=this.barhigh;return _=this.mk_ico("icoline","pauseico",0,0,e,s),_.setAttribute("style","stroke-width: "+v),_.setAttribute("d","M "+(2*e/5-v/2)+" "+(s-u)/2+" l 0 "+u+" M "+(4*e/5-v/2)+" "+(s-u)/2+" l 0 "+u),_.setAttribute("visibility","hidden"),c.appendChild(_),this.pauseico=_,t.appendChild(c),c},var_init:function(){var t=2*this.barpadding;this.barlength=this.wndlength-t,this.butwidthfactor=.56,this.butwidth=Math.round(this.barheight*this.butwidthfactor)+1,this.butwidth|=1,this.butheight=this.butwidth,this.triangleheight=this.butheight/2;var i=Math.round(this.treqbase(this.triangleheight));this.trianglebase=1&Math.round(this.butheight)?1|i:i+1&-2,this.triangleheight=this.treqheight(this.trianglebase),this.progressbarheight=.25*(this.barheight-this.butheight),this.progressbaroffs=.2*(this.barheight-this.butheight)/2,this.progressbarlength=this.barlength-2*this.progressbaroffs,this.progressbarxoffs=(this.barlength-this.progressbarlength)/2,this.barwid=this.butwidth/5,this.barhigh=this.treqbase(this.triangleheight)-this.barwid,this.viewbox="0 0 "+this.wndlength+" "+this.wndheight},disabfilter:"url(#blur_dis)",prog_pl_click:function(t){this.prog_pl_click_cb.length<2||this.prog_pl_click_cb[0].call(this.prog_pl_click_cb[1],[t,this._pl_len])},add_prog_pl_click_cb:function(t,i){this.prog_pl_click_cb[0]=t,this.prog_pl_click_cb[1]=i},init_inibut:function(){if(void 0!==this.b_parms)return!0;var t=this.parms.parentdiv;if(void 0===evhh5v_ctlbutmap[t]||evhh5v_ctlbutmap[t].loaded!==!0)return!1;this.b_parms=evhh5v_ctlbutmap[t];var i=(this.b_parms.root_svg,this.b_parms.docu_svg),e=i.getElementById("g_inibut");return this.inibut=this.mk_inibut(e,i),e=i.getElementById("g_wait"),this.waitanim=this.mk_waitanim(e,i),!0},init_volctl:function(){if(void 0!==this.v_parms)return!0;var t=this.parms.parentdiv;if(void 0===evhh5v_ctlvolmap[t]||evhh5v_ctlvolmap[t].loaded!==!0)return!1;this.v_parms=evhh5v_ctlvolmap[t];var i=(this.v_parms.root_svg,this.v_parms.docu_svg),e=i.getElementById("g_slider");return this.volctl=this.mk_volctl(e,i),this.volctlg=e,this.volctl.scalefactor=1,!0},is_mobile:function(){return void 0!==this.parms.mob?"true"==this.parms.mob:evhh5v_ua_is_mobile()},xfacts:[.5,1.5,2,1.5,2],mk:function(){var t=this.is_mobile(),i=this.svg,e=this.doc,s=0;this.vol_horz=t,t&&(this.xfacts=[.25,1.75,1.75,1.75,1.75]),this.button_data={};var h=this.button_data;i.setAttribute("viewBox",this.viewbox),this.gall=e.getElementById("g_all_g");var r=e.getElementById("ctlbar_bg");this.bgrect=this.mk_bgrect(r);var a=e.getElementById("g_button_1");h.show=a,h.hide=e.getElementById("g_button_2"),h.hide.setAttribute("visibility","hidden"),h.play={},h.play.defx=s+=this.xfacts[0],this.button_play=this.mk_playpause(a,h.play.defx),h.play.obj=this.button_play,h.stop={},h.stop.defx=s+=this.xfacts[1],this.button_stop=this.mk_stop(a,h.stop.defx),h.stop.obj=this.button_stop,this.stopbtn_disab(),h.doscale={},h.doscale.defx=s+=this.xfacts[2],this.button_doscale=this.mk_doscale(a,h.doscale.defx),h.doscale.obj=this.button_doscale,this.show_scalein(),this.blur_doscale(),h.fullscreen={},h.fullscreen.defx=s+=this.xfacts[3],this.button_fullscreen=this.mk_fullscreen(a,h.fullscreen.defx),h.fullscreen.obj=this.button_fullscreen,this.show_fullscreenout(),this.blur_fullscreen(),h.volume={},h.volume.defx=s+=this.xfacts[4],this.button_volume=this.mk_volume(a,h.volume.defx),h.volume.obj=this.button_volume;for(var n in h){var o=h[n];if(void 0!==o.defx){var l=o.obj;o.defx=l.getAttribute("x"),l.x.baseVal.convertToSpecifiedUnits(l.x.baseVal.SVG_LENGTHTYPE_PX),o.defx_px=l.x.baseVal.valueInSpecifiedUnits,l.width.baseVal.convertToSpecifiedUnits(l.width.baseVal.SVG_LENGTHTYPE_PX),o.defwidth_px=l.width.baseVal.valueInSpecifiedUnits}}var d=e.getElementById("prog_seek");this.progress_play=this.mk_prog_pl(d);var c=e.getElementById("prog_load");this.progress_load=this.mk_prog_dl(c),this.init_inibut(),this.init_volctl(),this.OK=!0},set_bar_visibility:function(t){this.svg.setAttribute("visibility",t)},set_narrow:function(t){var i=this.button_data;if(void 0!=i.doscale&&void 0!=i.fullscreen&&(!i.doscale.hidden||!t)&&(i.doscale.hidden||t)){var e=i.show;i.hide;if(t){var s=i.doscale.obj.getAttribute("x");return e.removeChild(i.doscale.obj),e.removeChild(i.fullscreen.obj),i.doscale.hidden=!0,void i.volume.obj.setAttribute("x",s)}i.doscale.hidden=!1,i.volume.obj.setAttribute("x",i.volume.defx),e.insertBefore(i.fullscreen.obj,i.volume.obj),e.insertBefore(i.doscale.obj,i.fullscreen.obj)}},show_waitanim:function(t,i){if(!this.init_inibut())return!1;this.hide_inibut();var e=this.waitanim;e.width.baseVal.convertToSpecifiedUnits(e.width.baseVal.SVG_LENGTHTYPE_PX),e.height.baseVal.convertToSpecifiedUnits(e.height.baseVal.SVG_LENGTHTYPE_PX);var s=e.width.baseVal.valueInSpecifiedUnits,h=e.height.baseVal.valueInSpecifiedUnits,r=document.getElementById(this.b_parms.ctlbardiv),a=t-s/2,n=i-h/2;r.style.left=""+a+"px",r.style.top=""+n+"px";var o=this.b_parms.root_svg;return o.setAttribute("visibility","visible"),e.setAttribute("visibility","visible"),this.wait_group.setAttribute("visibility","visible"),this.wait_anim_obj.start(),!0},hide_waitanim:function(){if(!this.init_inibut())return!1;var t=this.waitanim;t.width.baseVal.convertToSpecifiedUnits(t.width.baseVal.SVG_LENGTHTYPE_PX);var i=t.width.baseVal.valueInSpecifiedUnits,e=document.getElementById(this.b_parms.ctlbardiv),s=this.b_parms.root_svg;return s.setAttribute("visibility","hidden"),t.setAttribute("visibility","hidden"),this.wait_group.setAttribute("visibility","hidden"),e.style.left=""+-i+"px",e.style.top="0px",this.wait_anim_obj.stop(),!0},show_inibut:function(t,i){if(!this.init_inibut())return!1;this.inibut.width.baseVal.convertToSpecifiedUnits(this.inibut.width.baseVal.SVG_LENGTHTYPE_PX),this.inibut.height.baseVal.convertToSpecifiedUnits(this.inibut.height.baseVal.SVG_LENGTHTYPE_PX);var e=document.getElementById(this.b_parms.ctlbardiv);if(!e)return!1;var s=this.inibut.width.baseVal.valueInSpecifiedUnits,h=this.inibut.height.baseVal.valueInSpecifiedUnits,r=t-s/2,a=i-h/2;e.style.left=""+r+"px",e.style.top=""+a+"px";var n=this.b_parms.root_svg;return n.setAttribute("visibility","visible"),this.inibut.setAttribute("visibility","visible"),this.but_clearbg&&this.but_clearbg.setAttribute("visibility","visible"),this.but_circle.setAttribute("visibility","visible"),this.but_arrow.setAttribute("visibility","visible"),!0},hide_inibut:function(){if(!this.init_inibut())return!1;this.inibut.width.baseVal.convertToSpecifiedUnits(this.inibut.width.baseVal.SVG_LENGTHTYPE_PX);var t=this.inibut.width.baseVal.valueInSpecifiedUnits,i=this.b_parms.root_svg;i.setAttribute("visibility","hidden"),this.inibut.setAttribute("visibility","hidden"),this.but_clearbg&&this.but_clearbg.setAttribute("visibility","hidden"),this.but_circle.setAttribute("visibility","hidden"),this.but_arrow.setAttribute("visibility","hidden");var e=document.getElementById(this.b_parms.ctlbardiv);return e.style.left=""+-t+"px",e.style.top="0px",!0},show_volctl:function(t,i){if(!this.init_volctl())return!1;var e,s=this.vol_horz;this.button_volume.x.baseVal.convertToSpecifiedUnits(this.button_volume.x.baseVal.SVG_LENGTHTYPE_PX),e=this.button_volume.x.baseVal.valueInSpecifiedUnits,this.button_volume.width.baseVal.convertToSpecifiedUnits(this.button_volume.width.baseVal.SVG_LENGTHTYPE_PX);var h=this.button_volume.width.baseVal.valueInSpecifiedUnits;this.volctl.height.baseVal.convertToSpecifiedUnits(this.volctl.height.baseVal.SVG_LENGTHTYPE_PX);var r=this.volctl.height.baseVal.valueInSpecifiedUnits;this.volctl.width.baseVal.convertToSpecifiedUnits(this.volctl.width.baseVal.SVG_LENGTHTYPE_PX);var a,n=this.volctl.width.baseVal.valueInSpecifiedUnits;if(this.button_volume.getCTM){var o=this.button_volume.getCTM();a=o.a}else a=this.wndlength_orig/this.wndlength;e*=a,h*=a,e+=s?h-this.vol_width:(h-this.vol_width)/2;var l=e,d=t-this.vol_height,c=1;s&&(0>l||this.vol_width>i)?(this.vol_width>i&&(c*=i/this.vol_width),l=0):!s&&(0>d||this.vol_height>t)&&(d=this.vol_height,this.vol_height>t&&(c*=t/this.vol_height,d*=c),d=(t-d)/2),this.volctlg.setAttribute("transform","scale("+c+")"),this.volctl.scalefactor=c;var _=document.getElementById(this.v_parms.ctlbardiv);_.style.left=""+l+"px",_.style.top=""+d+"px",_.style.width=""+n*c+"px",_.style.height=""+r*c+"px";var v=this.v_parms.root_svg;return v.setAttribute("visibility","visible"),this.volctl.setAttribute("visibility","visible"),this.vol_bgarea.setAttribute("visibility","visible"),this.vol_bgslide.setAttribute("visibility","visible"),this.vol_fgslide.setAttribute("visibility","visible"),!0},hide_volctl:function(){if(!this.init_volctl())return!1;this.volctl.width.baseVal.convertToSpecifiedUnits(this.volctl.width.baseVal.SVG_LENGTHTYPE_PX);var t=this.volctl.width.baseVal.valueInSpecifiedUnits,i=this.v_parms.root_svg;i.setAttribute("visibility","hidden"),this.volctl.setAttribute("visibility","hidden"),this.vol_bgarea.setAttribute("visibility","hidden"),this.vol_bgslide.setAttribute("visibility","hidden"),this.vol_fgslide.setAttribute("visibility","hidden");var e=document.getElementById(this.v_parms.ctlbardiv);return e.style.left=""+-t+"px",e.style.top="0px",!0},scale_volctl:function(t){if(!this.init_volctl())return!1;var i,e,s=this.vol_horz;if(i=this.vol_bgslide,e=this.vol_fgslide,t=Math.max(0,Math.min(1,t)),s){var h=parseFloat(i.getAttribute("width")),r=h*t;e.setAttribute("width",""+r+"px")}else{var a=parseFloat(i.getAttribute("height")),n=parseFloat(i.getAttribute("y")),r=a*t,o=n+a-r;e.setAttribute("y",""+o+"px"),e.setAttribute("height",""+r+"px")}},hdl_volctl:function(t){if(t.preventDefault(),void 0===this.controller_handle_volume)return!1;var i,e,s,h,r=this.vol_horz;i=this.vol_bgslide,e=this.vol_fgslide,r?(s="width",h="x"):(s="height",h="y");var a,n=parseFloat(e.getAttribute(s)),o=parseFloat(i.getAttribute(s)),l=parseFloat(i.getAttribute(h));if("wheel"===t.type)a=n-(t.deltaY<0?-3:3);else if("touchmove"===t.type){var d=parseFloat(r?0-t.changedTouches[0].clientX:t.changedTouches[0].clientY);if(!isFinite(d))return;this.vol_touchstart||(this.vol_touchstart=0);var c=d-this.vol_touchstart;a=(n-c)/this.volctl.scalefactor,this.vol_touchstart=d}else a=r?t.clientX/this.volctl.scalefactor-l:o-(t.clientY/this.volctl.scalefactor-l);return this.controller_handle_volume(a/o),!1},resize_bar:function(t,i){var e=this.barheight,s=(this.wndlength,e*t/i);this.wndlength=s,this.var_init(),s=this.barlength;var h=this.progressbarlength;this._pl_len=t,this.svg.setAttribute("viewBox",this.viewbox);for(var r=0;r<this.rszo.length;r++){var a="bgrect"==this.rszo[r].id?s:h;this.rszo[r].setAttribute("width",a)}var n=this.button_data.volume.obj;n.width.baseVal.convertToSpecifiedUnits(n.width.baseVal.SVG_LENGTHTYPE_PX);var o=n.width.baseVal.valueInSpecifiedUnits,l=this.button_data.volume.defx_px,d=l+o;d+=this.button_data.play.defx_px,this.set_narrow(d>t)},show_dl_active:function(){this.progress_load[1].setAttribute("class","progloadfgdl")},show_dl_inactive:function(){this.progress_load[1].setAttribute("class","progloadfg")},progress_pl:function(t){this.progress_play[1].setAttribute("width",t*this.progressbarlength)},show_fullscreenout:function(){var t=this.button_fullscreen;t&&(this.fullscreenicoin.setAttribute("visibility","hidden"),this.fullscreenicoout.setAttribute("visibility","visible"),t.hlt.setAttribute("visibility","hidden"))},show_fullscreenin:function(){var t=this.button_fullscreen;t&&(this.fullscreenicoout.setAttribute("visibility","hidden"),this.fullscreenicoin.setAttribute("visibility","visible"),t.hlt.setAttribute("visibility","hidden"))},blur_fullscreen:function(){var t=this.button_fullscreen;t&&(t.removeAttribute("onclick"),t.removeAttribute("ontouchstart"),t.removeAttribute("onmouseover"),t.removeAttribute("onmouseout"),t.hlt.setAttribute("visibility","hidden"),t.style.cursor="inherit",t.ico_out.setAttribute("filter",t.disabfilter))},unblur_fullscreen:function(){var t=this.button_fullscreen;t&&(t.setAttribute(this.is_mobile()?"ontouchstart":"onclick","svg_click(this);return false;"),t.setAttribute("onmouseover","setvisi('fullscreen_highlight','visible');"),t.setAttribute("onmouseout","setvisi('fullscreen_highlight','hidden');"),t.style.cursor="pointer",t.ico_out.removeAttribute("filter"))},show_scaleout:function(){this.doscaleicoin.setAttribute("visibility","hidden"),this.doscaleicoout.setAttribute("visibility","visible")},show_scalein:function(){this.doscaleicoout.setAttribute("visibility","hidden"),this.doscaleicoin.setAttribute("visibility","visible")},blur_doscale:function(){var t=this.button_doscale;t&&(t.removeAttribute("onclick"),t.removeAttribute("ontouchstart"),t.removeAttribute("onmouseover"),t.removeAttribute("onmouseout"),t.hlt.setAttribute("visibility","hidden"),t.style.cursor="inherit",t.ico_in.setAttribute("filter",t.disabfilter),t.ico_out.setAttribute("filter",t.disabfilter))},unblur_doscale:function(){var t=this.button_doscale;t&&(t.setAttribute(this.is_mobile()?"ontouchstart":"onclick","svg_click(this);return false;"),t.setAttribute("onmouseover","setvisi('doscale_highlight','visible');"),t.setAttribute("onmouseout","setvisi('doscale_highlight','hidden');"),t.style.cursor="pointer",t.ico_in.removeAttribute("filter"),t.ico_out.removeAttribute("filter"))},show_playico:function(){this.pauseico.setAttribute("visibility","hidden"),this.playico.setAttribute("visibility","visible");
},show_pauseico:function(){this.playico.setAttribute("visibility","hidden"),this.pauseico.setAttribute("visibility","visible")},stopbtn_disab:function(){var t=this.button_stop;t&&(t.removeAttribute("onclick"),t.removeAttribute("ontouchstart"),t.removeAttribute("onmouseover"),t.removeAttribute("onmouseout"),t.hlt.setAttribute("visibility","hidden"),t.style.cursor="inherit",t.ico.setAttribute("filter",t.disabfilter))},stopbtn_enab:function(){var t=this.button_stop;t&&(t.setAttribute(this.is_mobile()?"ontouchstart":"onclick","svg_click(this);return false;"),t.setAttribute("onmouseover","setvisi('stop_highlight','visible');"),t.setAttribute("onmouseout","setvisi('stop_highlight','hidden');"),t.style.cursor="pointer",t.ico.removeAttribute("filter"))},endmember:this};var evhh5v_controller=function(t,i,e){t.removeAttribute("controls"),this._vid=t,this.ctlbar=i,this.bar=i.evhh5v_controlbar,this.pad=e,this.handlermap={},this._x=this._y=0,this.auxdiv=document.getElementById(this.ctlbar.auxdiv),this.bardiv=document.getElementById(this.ctlbar.ctlbardiv),this.div_bg_clr=evhh5v_getstyle(this.auxdiv,"background-color"),this.auxdivclass=this.auxdiv.getAttribute("class"),this.tickinterval_divisor=1e3/this.tickinterval,this.ptrtickmax=this.tickinterval_divisor*this.ptrinterval,this.ptrtick=0,this.doshowbartime=!1,void 0!==this.params.hidebar&&"true"==this.params.hidebar&&(this.doshowbartime=!0),this.doshowbar=!0,void 0!==this.params.disablebar&&"true"==this.params.disablebar&&(this.disablebar=!0,this.doshowbar=!1,this.doshowbartime=!1),this.allowfull=!0,void 0!==this.params.allowfull&&"false"==this.params.allowfull&&(this.allowfull=!1),this.barpadding=2,this.yshowpos=this.bar_y=this.height-this.barheight,this.doscale=!0;var s=this;if(this.bar.add_prog_pl_click_cb(this.prog_pl_click_cb,s),this.ntick=0,this._vid.setAttribute("class","evhh5v_mouseptr_normal"),void 0!==i.aspect){var h;h=/\b(-?[0-9]+)[^0-9\.](-?[0-9]+)\b/.exec(""+i.aspect),h=h?h[1]/h[2]:parseFloat(i.aspect),h=isFinite(h)?h:0,(Math.abs(h)<.5||Math.abs(h)>10)&&(h=0),this.aspect=Math.abs(h)}else this.aspect=0;this.is_canvas=!1};evhh5v_controller.prototype={aspect_min:0,tickinterval:50,ptrinterval:5,barshowincr:2,barshowmargin:2,default_init_vol:50,mouse_hide_class:"evhh5v_mouseptr_hidden",mouse_show_class:"evhh5v_mouseptr_normal",chrome_draw_bug:/Chrom(e|ium)\/3[3-4]\./i.test(navigator.userAgent),get params(){return this.ctlbar},mk:function(){this.v.evhh5v_controller=this,this.ctlbar.evhh5v_controller=this,this.height=this.v.height,this.width=this.v.width,void 0!==this.params.play?"true"==this.params.play&&(this.autoplay=!0):this.autoplay=!1,this.allowfull&&evhh5v_fullscreen_ok()?this.bar.unblur_fullscreen():this.bar.blur_fullscreen(),this.disablebar?(this.bar.set_bar_visibility("hidden"),this.showhideBar(this.doshowbar=!1)):(this.set_bar_y(this.bar_y),this.bar.set_bar_visibility("visible")),this.setup_canvas(),this.install_handlers();var t=this;if(this.bar.controller_handle_volume=function(i){if(t.ptrtick=0,isFinite(i)){var e=t._vid;void 0!==e.volume&&(i=Math.max(0,Math.min(1,i)),e.volume=t.init_vol=i)}},this.bar.scale_volctl(1),this.autoplay)this._vid.setAttribute("preload","metadata");else{this._vid.setAttribute("preload",this.params.preload);var i=function(){return t.has_been_played?void t.bar.hide_inibut():(t.bar.show_inibut(t.width/2,t.height/2),void setTimeout(i,1e3))};i()}},on_metadata:function(){if(void 0===this.init_vol){var t=void 0!==this.params.volume?parseFloat(this.params.volume):this.default_init_vol;isFinite(t)||(t=this.default_init_vol),this.init_vol=Math.max(0,Math.min(1,t/100))}this._vid.volume=this.init_vol,this.autoplay&&this.play(),!this.is_canvas||this.playing||this._cnv_poster||"none"!==this._vid.getAttribute("preload")&&(this.canvas_clear(),this.put_canvas_frame_single_timeout(50))},setup_canvas:function(){var t=this.params,i=!1;if(this.aspect<=0){var e;if(e=t.pixelaspect,void 0!==e){var s;s=/\b(-?[0-9]+)[^0-9\.](-?[0-9]+)\b/.exec(""+e),s=s?s[1]/s[2]:parseFloat(e),s=isFinite(s)?s:0,Math.abs(s)<.5||Math.abs(s)>10||(this.pixelaspect=Math.abs(s))}e=t.aspectautoadj,this.pixelaspect||void 0===e||(this.aspectautoadj="true"==e)}if(i=this.pixelaspect||this.aspectautoadj,/Opera/i.test(navigator.userAgent)&&(i=!0),i||!(this.aspect<=0||Math.abs(this.aspect-this.width/this.height)<this.aspect_min)){var h=this.width,r=this.height;this._cnv=document.createElement("canvas");var a=this._vid.parentNode;a.replaceChild(this._cnv,this._vid),this.is_canvas=!0,this._cnv.width=h,this._cnv.height=r,this.setup_aspect_factors(),this.get_canvas_context(),this.canvas_clear();var n=this,o=this._vid.getAttribute("poster");o&&""!=o&&(this._cnv_poster=document.createElement("img"),this._cnv_poster.onload=function(){n.put_canvas_poster()},this._cnv_poster.src=o),this._cnv.setAttribute("class","evhh5v_mouseptr_normal")}},get_canvas_context:function(){return this.is_canvas?(this._ctx=this._cnv.getContext("2d"),this._ctx):null},put_canvas_poster:function(){if(!this.playing&&this.is_canvas&&isFinite(this._vid.currentTime)&&this._vid.currentTime>0)this.canvas_clear(),this.put_canvas_frame_single();else if(this.is_canvas&&void 0!=this._cnv_poster&&!this.playing){this.canvas_clear();var t,i,e=this.width,s=this.height,h=this._cnv_poster.width,r=this._cnv_poster.height,a=e/s,n=h/r;n>a?(h=e,r=e/n,t=0,i=(s-r)/2):(h=s*n,r=s,t=(e-h)/2,i=0),this._ctx.drawImage(this._cnv_poster,t,i,h,r)}else this.playing||this.canvas_clear()},canvas_clear:function(){var t;if(this.is_canvas&&(t=this.get_canvas_context())){this.width,this.height;t.fillStyle=this.div_bg_clr,t.fillRect(0,0,this.width,this.height)}},setup_aspect_factors:function(){var t=this._vid,i=this.width,e=this.height;if(!this.gotmetadata)return this.v.width=i,void(this.v.height=e);if(this.pixelaspect&&this.aspect<=0){var s=t.videoWidth,h=t.videoHeight;this.aspect=s*this.pixelaspect/h}else if(this.aspectautoadj&&this.aspect<=0){var s=t.videoWidth,h=t.videoHeight;720!=s&&704!=s||480!=h&&576!=h||(this.aspect=4/3),360!=s&&352!=s||288!=h&&240!=h||(this.aspect=4/3)}this.origaspect=i/e;var r=t.videoWidth,a=t.videoHeight,n=(this.aspect<=0||Math.abs(this.aspect-this.width/this.height)<this.aspect_min?r/a:this.aspect)*a/r;r*=n;var o=r/a,l=this.width,d=this.height,c=l/d;l>r&&d>a?this.bar.unblur_doscale():this.bar.blur_doscale(),this.doscale?c>o?(this._width=d*o,this._height=d,this._x=(l-this._width)/2,this._y=0):(this._width=l,this._height=l*a/r,this._x=0,this._y=(d-this._height)/2):(r>l||a>d?c>o?(this._width=d*o,this._height=d):(this._width=l,this._height=l*a/r):(this._width=r,this._height=a),this._x=(l-this._width)/2,this._y=(d-this._height)/2),this.is_canvas?(this._cnv.width=l,this._cnv.height=d):(t.style.margin="0px",i=Math.round(Math.max(0,this._x)),e=Math.round(Math.max(0,this._y)),t.width=this._width,t.height=this._height,t.style.marginLeft=i+"px",t.style.marginTop=e+"px",t.style.marginRight=i+"px",t.style.marginBottom=e+"px")},put_canvas_frame:function(){if(this.is_canvas&&!this.frame_timer&&!this._vid.paused&&!this._vid.ended){var t=this;this.frame_timer=setInterval(function(){t._ctx.drawImage(t._vid,t._x,t._y,t._width||t.width,t._height||t.height)},this.canvas_frame_timeout)}},end_canvas_frame:function(){this.frame_timer&&(clearInterval(this.frame_timer),this.frame_timer=!1)},canvas_frame_timeout:21,put_canvas_frame_single:function(){var t;this.is_canvas&&(t=this.get_canvas_context())&&t.drawImage(this._vid,this._x,this._y,this._width,this._height)},put_canvas_frame_single_timeout:function(t){var i=this;this.canvas_frame_single_timer=setTimeout(function(){i.put_canvas_frame_single()},t||50)},get barheight(){return parseInt(this.ctlbar.barheight)},get v(){return this.is_canvas?this._cnv:this._vid},get width(){return void 0==this.set_width?this.v.width:this.set_width},set width(t){this.in_fullscreen||this.put_width(t)},put_width:function(t){this.hide_volctl(),this.set_width=t;var i;i=document.getElementById(this.ctlbar.parent),i&&(i.style.width=t+"px",i=this.auxdiv,i.style.width=t+"px",this.setup_aspect_factors(),this.put_canvas_poster(),this.ctlbar.evhh5v_controlbar&&(this.ctlbar.evhh5v_controlbar.resize_bar(t,this.barheight),this.play_progress_update()),i=this.bardiv,i.style.width=t+"px",i.style.left=this.pad+"px")},get height(){return void 0==this.set_height?this.v.height:this.set_height},set height(t){this.in_fullscreen||this.put_height(t)},put_height:function(t){this.hide_volctl();var i,e=t-this.height;if(i=this.auxdiv,i.style.left="0px",i.style.top="0px",i.style.height=""+t+"px",this.set_height=t,i=document.getElementById(this.ctlbar.parent)){var s=this.barheight;i.style.height=s+"px",this.setup_aspect_factors(),this.put_canvas_poster(),i=this.bardiv,i.style.height=s+"px",this.bar_y+=e,this.yshowpos+=e,i.style.top=this.bar_y+"px",i.style.left=this.pad+"px"}},get pixelWidth(){return void 0!==this.v.pixelWidth?this.v.pixelWidth:void 0},set pixelWidth(t){this.v.pixelWidth=t},get pixelHeight(){return void 0!==this.v.pixelHeight?this.v.pixelHeight:void 0},set pixelHeight(t){this.v.pixelHeight=t},fs_resize:function(){if(this.in_fullscreen){var t=window.screen.width,i=window.screen.height;this.put_height(i),this.put_width(t)}},callbk:function(t){var i;if(void 0!=(i=this.evhh5v_controller)){var e=t.type,s=i.handlermap;if(void 0!=s[e])for(var h=0,r=s[e].length;r>h;h++){var a=s[e][h];a&&"function"==typeof a&&a.call(i,t)}}},_obj_add_evt:function(t,i){"boolean"!=typeof i&&(i=!1);for(var e in this.handlermap)t.addEventListener(e,this.callbk,i)},add_evt:function(t,i,e){var s=!1;void 0==this.handlermap[t]&&(this.handlermap[t]=[],s=!0),this.handlermap[t].push(i),s&&this._vid&&this._vid.addEventListener(t,this.callbk,e)},addEventListener:function(t,i,e){if("boolean"!=typeof e&&(e=!1),"string"==typeof t)this.add_evt(t,i,e);else if(t instanceof Array)for(var s=t.length,h=0;s>h;h++)this.add_evt(t[h],i,e)},install_handlers:function(t){var i=!1;t===!0&&(i=!0,this.handlermap={});var e=["waiting"];/Chrom(e|ium)\/([0-2][0-9]|3[0-2])\./i.test(navigator.userAgent)&&e.push("seeking"),this.addEventListener(e,function(){this.show_wait()},!1),this.addEventListener(["seeked","canplaythrough","playing","loadeddata","ended"],function(){this.hide_wait()},!1),this.addEventListener(["ended"],function(){if(void 0!==this.evcnt)for(var t in this.evcnt)evhh5v_msg("EVENT count for '"+t+"': "+this.evcnt[t]),this.evcnt[t]=0},!1),this.addEventListener("play",function(){this.get_canvas_context(),this.canvas_clear(),this.has_been_played=!0,this.stop_forced=!1,this.playing=!0,this.bar.hide_inibut(),this.put_canvas_frame(),this.bar.show_pauseico(),this.bar.stopbtn_enab(),this.showhideBar(this.doshowbar=!1)},!1),this.addEventListener("pause",function(){if(this.end_canvas_frame(),this.playing=!1,this.bar.show_playico(),this.bar.stopbtn_enab(),this.hide_wait(),this.stop_invoked_proc){var t=this.stop_invoked_proc;this.stop_invoked_proc=!1,t.call(this)}},!1),this.addEventListener("playing",function(){this.playing=!0,this.bar.show_pauseico(),this.bar.stopbtn_enab()},!1),this.addEventListener("suspend",function(){if(!this.susptimer){var t=this.bar;this.susptimer=setTimeout(function(){t.show_dl_inactive()},3e3)}},!1),this.addEventListener("progress",function(){if(this.susptimer){clearTimeout(this.susptimer),this.susptimer=!1;var t=this.bar;this.susptimer=setTimeout(function(){t.show_dl_inactive()},3e3)}this.bar.show_dl_active()},!1),this.addEventListener(["loadedmetadata","loadeddata","emptied"],function(){this.bar.show_dl_inactive()},!1),this.addEventListener(["loadedmetadata","resize"],function(t){"loadedmetadata"===t.type?(this.on_metadata(),this.gotmetadata=!0):"resize"===t.type,this.setup_aspect_factors();var i=this.height,e=this.width;this.height=i,this.width=e},!1),this.addEventListener(["volumechange","loadedmetadata","loadeddata","loadstart","playing"],function(){var t=this._vid;if(void 0!==t.volume){var i=Math.max(0,Math.min(1,t.volume));this.bar.scale_volctl(i)}else this.bar.scale_volctl(1)},!1),this.addEventListener(["ended","error","abort"],function(t){if(this.hide_wait(),"error"!==t.type||this._vid.error){if("ended"!==t.type){var i=this._vid.error;if(!i)return;try{switch(i.code){case MediaError.MEDIA_ERR_NETWORK:alert("A network error stopped the media fetch; try again when the network is working");case MediaError.MEDIA_ERR_ABORTED:var e=this;return void setTimeout(function(){e.stop()},256);case MediaError.MEDIA_ERR_DECODE:alert("A media decoding error occured. Contact the web browser vendor or the server administrator");break;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:alert("The current media is not supported by the browser's media player");break;default:alert("An unknown media player error occurred with error code value "+i.code)}}catch(s){}}else"ended"===t.type&&(this._vid.paused||this.pause());this.end_canvas_frame(),this.playing=!1,this.bar.stopbtn_disab(),this.bar.show_playico(),this.bar.progress_pl(1),this.bar.show_dl_inactive()}},!1);var s=["mouseover","mouseout","mousemove","click","touchstart","touchend","touchmove","touchenter","touchleave","touchcancel"];this.addEventListener(s,function(t){var i=!(void 0===t.changedTouches);switch(t.type){case"mouseover":case"touchenter":break;case"mouseout":case"touchleave":break;case"mousemove":case"touchmove":if(t.stopPropagation(),this.rekonq_mousebug)return;var e;i?(t.preventDefault(),e=this.mouse_coords(t.changedTouches[0])):e=this.mouse_coords(t);var s=e.x,h=e.y,r=this.barshowmargin,a=this.width-r,n=this.height-r;s>r&&h>r&&a>s&&n>h?0==this.doshowbar&&this.showhideBar(this.doshowbar=!0):1==this.doshowbar&&this.showhideBar(this.doshowbar=!1),this.mouse_show(),this.ptrtick=0;break;case"click":t.stopPropagation(),this.playpause();break;case"dblclick":break;default:evhh5v_msg("GOT MOUSE EVENT: "+t.type)}},!1);var h=["keyup","keydown"];if(this.addEventListener(h,function(t){switch(t.stopPropagation(),t.type){case"keydown":this.curkey=t.keyCode;break;case"keyup":32==this.curkey?this.playpause():81==this.curkey||113==this.curkey?this.stop():70==this.curkey||102==this.curkey?this.allowfull&&this.fullscreen():71==this.curkey||103==this.curkey?(void 0===this.dbg_key&&(this.dbg_key=!1),this.dbg_key=!this.dbg_key):65==this.curkey||97==this.curkey?(void 0===this.saved_aspect&&(this.saved_aspect=this.aspect),this.aspect=this.aspect?0:this.saved_aspect):86==this.curkey||118==this.curkey||60==this.curkey||62==this.curkey||83==this.curkey||115==this.curkey,this.curkey=null}},!1),!i){var r=this,a=this.is_canvas?this._cnv:this.auxdiv,n=s.concat(h);for(var o in n)a.addEventListener(n[o],function(t){r.callbk.call(r._vid,t)},!1);this.mk_state_timer()}},mk_state_timer:function(){if(!this.statetimer){var t=this;this.statetimer=setInterval(function(){t.do_state_timer()},this.tickinterval)}},rm_state_timer:function(){this.statetimer&&(clearInterval(this.statetimer),this.statetimer=!1)},do_state_timer:function(){2147483647===this.ntick++&&(this.ntick=0),this.bar.volctl_mousedown?this.ptrtick=0:(this.rekonq_mousebug&&this.rekonq_mousebug--,++this.ptrtick>=this.ptrtickmax&&(this.rekonq_mousebug=parseInt(this.ptrtickmax/10),this.mouse_hide(),this.doshowbartime&&this.showhideBar(this.doshowbar=!1),this.ptrtick=0));var t=1&this.ntick;!t||this._vid.paused||this._vid.ended||this.play_progress_update(),this.yshowpos>this.bar_y?(this.bar_y=Math.min(this.bar_y+this.barshowincr,this.yshowpos),this.set_bar_y(this.bar_y),this.yshowpos==this.bar_y&&this.hide_volctl()):this.yshowpos<this.bar_y&&(this.bar_y=Math.max(this.bar_y-this.barshowincr,this.yshowpos),this.set_bar_y(this.bar_y))},play_progress_update:function(){var t;if(void 0!=(t=this._vid.currentTime)&&isFinite(t)){var i;void 0==(i=this._vid.duration)||!isFinite(i)||0>=i||this.bar.progress_pl(t/i)}},mouse_hide:function(){this.mouse_hidden||(this.mouse_hidden=!0,this.v.setAttribute("class",this.mouse_hide_class),this.auxdiv.setAttribute("class",this.auxdivclass+" "+this.mouse_hide_class),this.v.style.cursor="none",this.auxdiv.style.cursor="none")},mouse_show:function(){this.mouse_hidden&&(this.mouse_hidden=!1,this.v.setAttribute("class",this.mouse_show_class),this.auxdiv.setAttribute("class",this.auxdivclass),this.v.style.cursor="default",this.auxdiv.style.cursor="default")},mouse_coords:function(t){var i=this.auxdiv.getBoundingClientRect(),e=t.clientX-i.left,s=t.clientY-i.top;return{x:Math.round(e),y:Math.round(s)}},showhideBar:function(t){var i=this.barheight,e=this.height-i-this.barpadding,s=e+i+2*this.barpadding,h=t?e:s;this.disablebar?(this.yshowpos=s,this.set_bar_y(s),this.hide_volctl()):t&&this.bar_y>=h?this.yshowpos=h:!t&&this.bar_y<=h&&(this.yshowpos=h)},set_bar_y:function(t){this.bardiv.style.top=t+"px"},prog_pl_click_cb:function(t){var i;if(void 0!=(i=this._vid.currentTime)&&isFinite(i)){var e;if(void 0!=(e=this._vid.duration)&&isFinite(e)&&!(0>=e)){this._vid.ended&&this.play();var s=t[0].clientX,h=t[1];i=e*(s/h),this._vid.currentTime=i,this.bar.progress_pl(i/e),this.playing||this.put_canvas_frame_single_timeout()}}},play:function(){this._vid.play()},pause:function(){this._vid.pause()},playpause:function(){var t=this._vid;t.ended?(t.currentTime=0,this.play()):t.paused?this.play():this.pause()},stop:function(){this.stop_forced=!0,this.hide_wait();var t=function(){for(var t=document.createElement("video"),i=["loop","width","height","id","class","name"],e=this._vid.getAttribute("poster");i.length;){var s,h=i.shift();(s=this._vid.getAttribute(h))&&t.setAttribute(h,s)}for(t.setAttribute("preload",e?"none":this.gotmetadata?"metadata":"none");this._vid.hasChildNodes();){var h=this._vid.firstChild.cloneNode(!0);t.appendChild(h),this._vid.removeChild(this._vid.firstChild)}this.is_canvas||this._vid.parentNode.replaceChild(t,this._vid),this._vid.src=null,this._vid.removeAttribute("src"),this._vid.load();try{delete this._vid}catch(r){}this._vid=t,this._vid.evhh5v_controller=this,this.setup_aspect_factors(),this._obj_add_evt(this._vid),this.gotmetadata=this.playing=!1,e&&this._vid.setAttribute("poster",e),this.put_canvas_poster(),this.bar.show_playico(),this.bar.progress_pl(1),this.bar.stopbtn_disab()};this._vid.paused||this._vid.ended?t.call(this):(this.stop_invoked_proc=t,this._vid.pause())},do_scale:function(){this.doscale=!this.doscale,this.setup_aspect_factors(),this.put_canvas_frame_single(),this.doscale?this.bar.show_scalein():this.bar.show_scaleout()},fullscreen:function(){if(!this.allowfull||!evhh5v_fullscreen.capable())return this.bar.blur_fullscreen(),void(this.allowfull&&alert("Full screen mode is not available."));var t=this.auxdiv;try{var i=evhh5v_fullscreen.element();if(void 0==i){this.fs_dimstore=[this.height,this.width];var e=this;this.orig_fs_change_func=evhh5v_fullscreen.handle_change(function(){return evhh5v_fullscreen.element()==t?(e.in_fullscreen=!0,e.fs_resize(),void e.bar.show_fullscreenin()):(e.in_fullscreen=!1,e.height=e.fs_dimstore[0],e.width=e.fs_dimstore[1],evhh5v_fullscreen.handle_change(e.orig_fs_change_func),evhh5v_fullscreen.handle_error(e.orig_fs_error_func),e.orig_fs_change_func=null,e.orig_fs_error_func=null,void e.bar.show_fullscreenout())}),this.orig_fs_error_func=evhh5v_fullscreen.handle_error(function(){evhh5v_fullscreen.handle_change(e.orig_fs_change_func),evhh5v_fullscreen.handle_error(e.orig_fs_error_func),e.orig_fs_change_func=null,e.orig_fs_error_func=null,alert("Full screen mode failed.")}),evhh5v_fullscreen.request(t)}else i==t&&evhh5v_fullscreen.exit()}catch(s){alert(s.name+': "'+s.message+'"')}},volctl_showing:!1,togglevolctl:function(){this.ptrtick=0,void 0==this.volctl_showing&&(this.volctl_showing=!1),this.volctl_showing?this.hide_volctl():this.show_volctl()},show_volctl:function(t){this.volctl_showing||(void 0==t&&(t=this.height-this.barheight-3),this.volctl_showing=!0,this.bar.show_volctl(t,this.width))},hide_volctl:function(){this.volctl_showing===!0&&(this.volctl_showing=!1,this.bar.hide_volctl())},bar_bg_click:function(){this.hide_volctl()},show_wait_ok:function(){return void 0===this.chrome_show_wait_bad&&(this.chrome_show_wait_bad=this.params.chromium_force_show_wait?!1:this.chrome_draw_bug),this.chrome_show_wait_bad?!1:!this.wait_showing&&!this.stop_forced&&this.has_been_played},show_wait:function(){if(this.show_wait_ok()){this.wait_showing=!0;var t=this;this.show_wait_handle=setTimeout(function(){t.show_wait_handle!==!1&&t.bar.show_waitanim(t.width/2,t.height/2),t.show_wait_handle=!1},125)}},hide_wait:function(){var t=this;setTimeout(function(){void 0!==t.wait_showing&&t.wait_showing&&(t.show_wait_handle&&(clearTimeout(t.show_wait_handle),t.show_wait_handle=!1),t.bar.hide_waitanim(),t.wait_showing=!1)},100)},show_wait_now:function(){this.wait_showing||this.stop_forced||!this.has_been_played||(this.wait_showing=!0,this.bar.show_waitanim(this.width/2,this.height/2))},hide_wait_now:function(){void 0!==this.wait_showing&&this.wait_showing&&(this.bar.hide_waitanim(),this.wait_showing=!1)},button_click:function(t){switch(t.id){case"playpause":case"inibut":this.playpause();break;case"stop":this.stop();break;case"doscale":this.do_scale();break;case"fullscreen":this.fullscreen();break;case"volume":this.togglevolctl();break;case"bgrect":this.bar_bg_click()}},protoplasmaticism:!0};var evhh5v_ctlbarmap={},evhh5v_ctlbutmap={},evhh5v_ctlvolmap={},evhh5v_getstyle=function(t,i){var e=0;return document.defaultView&&document.defaultView.getComputedStyle?e=document.defaultView.getComputedStyle(t,"").getPropertyValue(i):t.currentStyle&&(i=i.replace(/\-(\w)/g,function(t,i){return i.toUpperCase()}),e=t.currentStyle[i]),e},evhh5v_get_flashsupport=function(){return void 0===document.evhh5v_get_flashsupport_found&&(navigator.plugins["Shockwave Flash"]?document.evhh5v_get_flashsupport_found=!0:document.evhh5v_get_flashsupport_found=!1),document.evhh5v_get_flashsupport_found},evhh5v_msg_off=!0,evhh5v_msg=function(t,i,e){if(!evhh5v_msg_off){var s=(e||"EVHMSG: ")+t;void 0!==i&&i||"function"!=typeof window.dump?console.log(s):window.dump(s+"\n")}},evhh5v_view_horrible_dim_hack_result=null,evhh5v_view_horrible_dim_hack=function(){if(null===evhh5v_view_horrible_dim_hack_result){var t=document.documentElement;t&&0===t.clientHeight&&(evhh5v_view_horrible_dim_hack_result=!0)}if(null===evhh5v_view_horrible_dim_hack_result){var t=document,i=t.createElement("div");i.style.height="9000px",t.body.insertBefore(i,t.body.firstChild),evhh5v_view_horrible_dim_hack_result=t.documentElement.clientHeight>8800,t.body.removeChild(i)}return evhh5v_view_horrible_dim_hack_result},evhh5v_view_dims=function(){var t={};return"number"==typeof document.clientHeight?(t.width=document.clientWidth,t.height=document.clientHeight):evhh5v_view_horrible_dim_hack()?(t.width=document.body.clientWidth,t.height=document.body.clientHeight):(t.width=document.documentElement.clientWidth,t.height=document.documentElement.clientHeight),t};